<!DOCTYPE html>
<html>



<head>

    <meta charset=utf-8 />
    <title>Global Shipping</title>
    <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />
    <script src="https://api.tiles.mapbox.com/mapbox.js/v2.1.4/mapbox.js"></script>
    <link href="https://api.tiles.mapbox.com/mapbox.js/v2.1.4/mapbox.css" rel="stylesheet" />

    <style>
      body { margin:0; padding:0; }
      #map { position:absolute; top:0; bottom:0; width:100%; }

	.legend label,
	.legend span {
 	display:block;
  	float:left;
 	height:15px;
  	width:14%;
  	text-align:center;
 	font-size:9px;
 	color:#808080;
  	line-height:90%;
  	}
  	.legend small {
  	line-height:1.2;
  	font-size:10px;
    display:block;
    padding-top:15%;
    
    }
</style>
</head>


<body>




<div id="map"></div>

<div id='legend' style='display:none;'>
  <strong>World Port Container Traffic</strong>
  <nav class='legend clearfix'>
    <span style='background:#EBEBE0;'></span>
    <span style='background:#E0E0D1;'></span>
    <span style='background:#CCCCB2;'></span>
    <span style='background:#B8B894;'></span>
    <span style='background:#A3A375;'></span>
    <span style='background:#939369;'></span>
    <span style='background:#6B6B47;'></span>
    <label>No data available</label>
    <label>0-50,000</label>
    <label>50,000- 200,000</label>
    <label>200,000- 650,000</label>
    <label>650,000- 1.5million</label>
    <label>1.5- 6 million</label>
    <label>6- 155 million</label>
    <small>Flow of containers from land to sea and vice versa, measured in Twenty-Foot Equivalent Units (TEUs). Hover over countries and tap ports for details.</small>
  </nav>
</div> 

 <!--   <small>Circles show the top 20 ports worldwide, scaled by volume of container traffic. Hover over/tap each port for details.</small>
	<small>Lines show total global shipping voyages for 2007.</small>
  <small><strong>Sources:</strong> <i>World Bank, World Shipping Council, National Center for Ecological Analysis and Synthesis<i></small>
	<!-->



<!-- 
	<div id='map' class='dark'></div> -->

    <script>
        L.mapbox.accessToken = "pk.eyJ1IjoiamFrZW5pY29sIiwiYSI6IkZ5RmxoaVEifQ.1EDbSuKs2SIwD8ws4F5CNA";

        var map = L.mapbox.map("map",  "jakenicol.shipping_final,jakenicol.World_Shipping_ports", {maxZoom: 5, minZoom: 1})
            .setView([18.0000, 179.0000], 3);
        
        map.legendControl.addLegend(document.getElementById('legend').innerHTML);

        //addLayer(L.mapbox.tileLayer("jakenicol.9tkb7qfr"), "map", 1);

        // L.control.layers({
        // 	"Shipping":  L.mapbox.tileLayer('jakenicol.9tkb7qfr'),
        // 	"Countries": L.mapbox.tileLayer("jakenicol.shipping_final")

        // }).addTo(map)

function responsive() {
     width = $( window ).width();
     height = $( window ).height();
    if (width < 768) {
        // set the zoom level to 3
        map.setZoom(3);
    } else if (width > 1500) {
        // set the zoom level to 5
        map.setZoom(5);
    } else {
        map.setZoom(2);
    }
 }

  // applies the function above both on initial load and window resize
   $(window).ready(responsive).resize(responsive);

    </script>

</body>


</html>